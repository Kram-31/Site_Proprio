---
import '../styles/global.css';
import '@fontsource/cinzel';
import '@fontsource/inter';
import { Image } from 'astro:assets';
import logoImage from '../assets/logo.jpg';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="fr" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="L'Art Mûri - Mickaël Kalfayan - Artiste Tatoueur à Mirepoix" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title} | L'Art Mûri</title>
	</head>
	<body class="bg-[#050505] text-white min-h-screen flex flex-col">
		<!-- Minimal Header -->
		<header class="fixed w-full z-50 top-0 left-0 px-4 md:px-8 py-4 md:py-6 flex justify-between items-center bg-gradient-to-b from-black/90 to-transparent backdrop-blur-[2px]">
			<a href="/" class="flex items-center gap-3 group relative z-50">
                <div class="w-10 h-10 md:w-16 md:h-16 rounded-full overflow-hidden border border-white/20 group-hover:border-[var(--color-primary)] transition-colors shrink-0">
                    <Image src={logoImage} alt="Logo L'Art Mûri" class="w-full h-full object-cover" />
                </div>
				<span class="text-lg md:text-xl font-bold tracking-tighter uppercase font-heading">
				L'Art <span class="text-[var(--color-primary)]">Mûri</span>
				</span>
			</a>
			<nav class="hidden md:flex gap-8 text-sm tracking-widest uppercase font-medium">
				<a href="/" class="hover:text-[var(--color-primary)] transition-colors">Accueil</a>
				<a href="/gallery" class="hover:text-[var(--color-primary)] transition-colors">Portfolio</a>
				<a href="/booking" class="hover:text-[var(--color-primary)] transition-colors">Booking</a>
			</nav>
            <button id="mobile-menu-btn" class="md:hidden text-white hover:text-[var(--color-primary)] transition-colors relative z-50 focus:outline-none p-2 border border-white/10 rounded bg-black/20 backdrop-blur-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>

            <!-- Mobile Menu Overlay -->
            <div id="mobile-menu" class="fixed inset-0 bg-black z-40 flex flex-col items-center justify-start pt-32 gap-8 opacity-0 pointer-events-none transition-all duration-500 ease-[cubic-bezier(0.22,1,0.36,1)] translate-y-4 data-[open=true]:translate-y-0 data-[open=true]:opacity-100 data-[open=true]:pointer-events-auto px-4 text-center">
                <div class="flex flex-col gap-6 w-full max-w-xs">
                    <a href="/" class="group relative w-full py-6 bg-white/5 border border-white/10 hover:border-[var(--color-primary)] transition-all duration-500 overflow-hidden mobile-link">
                         <div class="absolute inset-0 bg-[var(--color-primary)]/10 translate-y-full group-hover:translate-y-0 transition-transform duration-500"></div>
                         <div class="relative z-10 font-heading font-bold uppercase text-2xl tracking-[0.2em] text-white">
                            Accueil
                         </div>
                         <!-- Corners -->
                         <div class="absolute top-0 left-0 w-2 h-2 border-t border-l border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute top-0 right-0 w-2 h-2 border-t border-r border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute bottom-0 left-0 w-2 h-2 border-b border-l border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute bottom-0 right-0 w-2 h-2 border-b border-r border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                    </a>

                    <a href="/gallery" class="group relative w-full py-6 bg-white/5 border border-white/10 hover:border-[var(--color-primary)] transition-all duration-500 overflow-hidden mobile-link delay-100">
                         <div class="absolute inset-0 bg-[var(--color-primary)]/10 translate-y-full group-hover:translate-y-0 transition-transform duration-500"></div>
                         <div class="relative z-10 font-heading font-bold uppercase text-2xl tracking-[0.2em] text-white">
                            Portfolio
                         </div>
                          <!-- Corners -->
                         <div class="absolute top-0 left-0 w-2 h-2 border-t border-l border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute top-0 right-0 w-2 h-2 border-t border-r border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute bottom-0 left-0 w-2 h-2 border-b border-l border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute bottom-0 right-0 w-2 h-2 border-b border-r border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                    </a>

                    <a href="/booking" class="group relative w-full py-6 bg-white/5 border border-white/10 hover:border-[var(--color-primary)] transition-all duration-500 overflow-hidden mobile-link delay-200">
                         <div class="absolute inset-0 bg-[var(--color-primary)]/10 translate-y-full group-hover:translate-y-0 transition-transform duration-500"></div>
                         <div class="relative z-10 font-heading font-bold uppercase text-2xl tracking-[0.2em] text-white">
                            Booking
                         </div>
                          <!-- Corners -->
                         <div class="absolute top-0 left-0 w-2 h-2 border-t border-l border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute top-0 right-0 w-2 h-2 border-t border-r border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute bottom-0 left-0 w-2 h-2 border-b border-l border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                         <div class="absolute bottom-0 right-0 w-2 h-2 border-b border-r border-white/20 group-hover:border-[var(--color-primary)] transition-colors"></div>
                    </a>
                </div>
            </div>
		</header>

		<main class="flex-grow pt-24">
			<slot />
		</main>

        <script>
            const menuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileLinks = document.querySelectorAll('.mobile-link');
            let isMenuOpen = false;

            menuBtn?.addEventListener('click', () => {
                isMenuOpen = !isMenuOpen;
                // Toggle Menu Visibility
                if (isMenuOpen) {
                    mobileMenu?.setAttribute('data-open', 'true');
                    menuBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>`;
                } else {
                    mobileMenu?.setAttribute('data-open', 'false');
                    menuBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>`;
                }
            });

            // Close menu when link clicked
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => {
                    isMenuOpen = false;
                    mobileMenu?.setAttribute('data-open', 'false'); // Use data attribute for consistency
                    menuBtn!.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>`;
                });
            });
        </script>

		<!-- Bold Footer -->
		<footer class="bg-black py-20 px-4 md:px-10 border-t border-white/10 relative overflow-hidden">
            <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 relative z-10">
                <div class="flex flex-col items-center md:items-start text-center md:text-left">
                     <h2 class="text-6xl md:text-8xl font-heading font-bold uppercase leading-[1.0] mb-8">
                        L'Art<br/>
                        <span class="text-outline">Mûri</span>
                    </h2>
                    <p class="text-gray-400 max-w-md font-light mx-auto md:mx-0">
                        Art corporel unique et personnalisé. Chaque projet est une collaboration pour marquer votre histoire.
                    </p>
                    <div class="mt-8 pt-8 border-t border-white/10">
                        <p class="font-heading font-bold uppercase tracking-widest text-sm text-[var(--color-primary)]">L'Art Mûrit</p>
                        <p class="text-gray-400 text-sm mt-1">67 rue Victor Hugo<br/>09500 Mirepoix</p>
                    </div>
                </div>
                <div class="flex flex-col justify-end items-center md:items-end gap-4">
                    <a href="/booking" class="px-8 py-3 bg-[var(--color-primary)] text-white font-heading font-bold uppercase tracking-wider hover:bg-white hover:text-black transition-colors">
                        Prendre RDV
                    </a>
                    <div class="flex gap-6 mt-4 md:mt-0">
                        <a href="/" class="text-gray-400 hover:text-white uppercase text-sm tracking-widest">Accueil</a>
                        <a href="/gallery" class="text-gray-400 hover:text-white uppercase text-sm tracking-widest">Portfolio</a>
                        <a href="/booking" class="text-gray-400 hover:text-white uppercase text-sm tracking-widest">Booking</a>
                    </div>
                    <div class="flex gap-6 mt-2">
                        <a href="https://www.instagram.com/lartmurit/?hl=fr" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white uppercase text-sm tracking-widest">Instagram</a>
                        <a href="mailto:contact@lartmuri.com" class="text-gray-400 hover:text-white uppercase text-sm tracking-widest">Email</a>
                    </div>
                </div>
            </div>
            <!-- Background Text Decoration -->
            <div class="absolute bottom-[-5%] left-0 w-full text-center pointer-events-none select-none opacity-5">
                <span class="text-[12rem] md:text-[20rem] font-heading font-bold uppercase text-white whitespace-nowrap">
                    L'ART MURI
                </span>
            </div>
		</footer>
	</body>
</html>
